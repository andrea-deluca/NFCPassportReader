<!DOCTYPE html>
<html lang="en">
  <head>
    <title>IC Access  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Section/IC Access" class="dashAnchor"></a>

    <a title="IC Access  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
           Docs
        </a>
         (100% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/andrea-deluca/NFCPassportReader">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html"> Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
      IC Access  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="getting-started.html">Getting Started</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="demo.html">Demo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="get-in-touch.html">Get In Touch</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="credits.html">Credits</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="changelog.html">Changelog</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="license.html">License</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Overview.html">Overview</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NFCPassportReader.html">NFCPassportReader</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/NFCPassportModel.html">NFCPassportModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/APDUResponse.html">APDUResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/TagReader.html">TagReader</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Data%20Models.html">Data Models</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/DocumentDetails.html">DocumentDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/FaceBiometricDataEncoding.html">FaceBiometricDataEncoding</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/MRZ.html">MRZ</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/PersonalDetails.html">PersonalDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/TDType.html">TDType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/TravelDocument.html">TravelDocument</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Cryptography.html">Cryptography</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/EncryptionAlgorithm.html">EncryptionAlgorithm</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/EncryptionAlgorithmParams.html">EncryptionAlgorithmParams</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/HashAlgorithm.html">HashAlgorithm</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/KeyAgreementAlgorithm.html">KeyAgreementAlgorithm</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/StandardizedDomainParameters.html">StandardizedDomainParameters</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/StandardizedDomainParametersType.html">StandardizedDomainParametersType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Security%20Core.html">Security Core</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ObjectIdentifier.html">ObjectIdentifier</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SubjectPublicKeyInfo.html">SubjectPublicKeyInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecurityInfo.html">SecurityInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecurityInfoDecoder.html">SecurityInfoDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/SecurityObjectIdentifiers.html">SecurityObjectIdentifiers</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/SecurityProtocol.html">SecurityProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="IC%20Access.html">IC Access</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BACHandler.html">BACHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DocumentBasicAccessKeys.html">DocumentBasicAccessKeys</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PACEHandler.html">PACEHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PACEInfo.html">PACEInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PACEMapping.html">PACEMapping</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PACEParametersDecoder.html">PACEParametersDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PACESecurityProtocol.html">PACESecurityProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="IC%20Authentication.html">IC Authentication</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/CAPublicKeySecurityProtocol.html">CAPublicKeySecurityProtocol</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChipAuthenticationHandler.html">ChipAuthenticationHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChipAuthenticationInfo.html">ChipAuthenticationInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/ChipAuthenticationPublicKeyInfo.html">ChipAuthenticationPublicKeyInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/ChipAuthenticationSecurityProtocol.html">ChipAuthenticationSecurityProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="IC%20Data%20Authentication.html">IC Data Authentication</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PassiveAuthenticationHandler.html">PassiveAuthenticationHandler</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/PKCS7.html">PKCS7</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SignedData.html">SignedData</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/X509Certificate.html">X509Certificate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/X509CertificateDetails.html">X509CertificateDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/X509CertificateDetails/CertificateEntity.html">– CertificateEntity</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Secure%20Session.html">Secure Session</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/NFCSecureSession.html">NFCSecureSession</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecureChannel.html">SecureChannel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecureMessaging.html">SecureMessaging</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SecurityConfiguration.html">SecurityConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SessionKeyGenerator.html">SessionKeyGenerator</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SessionKeyGenerator/KeyDerivationFunctionMode.html">– KeyDerivationFunctionMode</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="DataGroups.html">DataGroups</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/CardAccess.html">CardAccess</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataGroup.html">DataGroup</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/COM.html">COM</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataGroup1.html">DataGroup1</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataGroup2.html">DataGroup2</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataGroup7.html">DataGroup7</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataGroup11.html">DataGroup11</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataGroup12.html">DataGroup12</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataGroup14.html">DataGroup14</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/SOD.html">SOD</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DGNotImplemented.html">DGNotImplemented</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DGDecoder.html">DGDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DGTag.html">DGTag</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Errors.html">Errors</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/APDUResponseError.html">APDUResponseError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/NFCPassportReaderError.html">NFCPassportReaderError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/APDUResponseErrorDecoder.html">APDUResponseErrorDecoder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/BytesRepresentationConverter.html">BytesRepresentationConverter</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/DataPadder.html">DataPadder</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/MRZKeyGenerator.html">MRZKeyGenerator</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/AESKeySize.html">AESKeySize</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/DisplayedMessage.html">DisplayedMessage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PassportAuthenticationStatus.html">PassportAuthenticationStatus</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/%5BUInt8%5D.html">[UInt8]</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Structs.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/APDUCommand.html">APDUCommand</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/APDUCommand/ManageSecurityEnvironment.html">– ManageSecurityEnvironment</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Other%20Typealiases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:17NFCPassportReader20BinaryRepresentationa">BinaryRepresentation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:17NFCPassportReader4Bytea">Byte</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:17NFCPassportReader17HexRepresentationa">HexRepresentation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Other%20Typealiases.html#/s:17NFCPassportReader17HexadecimalNumbera">HexadecimalNumber</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>IC Access</h1>
            
          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:17NFCPassportReader10BACHandlerC"></a>
                    <a name="//apple_ref/swift/Class/BACHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:17NFCPassportReader10BACHandlerC">BACHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>BACHandler</code> class acts as a handler for Basic Access Control (BAC), which allows access to the contactless
Integrated Circuit (IC) of an eMRTD by implementing a Chip Access Control mechanism.</p>

<p>BAC is a cryptographic protocol that enables the inspection system to prove its authorization to access
the contactless IC using information derived from the physical document, such as the Machine Readable Zone (MRZ) information.</p>

<p>The BAC mechanism is purely based on symmetric cryptography and provides protection against skimming, misuse
and eavesdropping during communication between the eMRTD and the inspection system.</p>
<h2 id='protocol-specification' class='heading'>Protocol Specification</h2>

<p>Authentication and Key Establishment is provided by a three-pass challenge-response protocol
according to ISO/IEC 11770-2 Key Establishment Mechanism 6 using 3DES [FIPS 46-3] as block cipher.
A cryptographic checksum according to ISO/IEC 9797-1 MAC Algorithm 3 is calculated over and appended
to the ciphertexts. Exchanged nonces MUST be of size 8 bytes, exchanged keying material MUST be of size 16 bytes.
The IFD (i.e. the inspection system) and the contactless IC MUST NOT use distinguishing identifiers as nonces.</p>
<h2 id='cryptographic-specifications' class='heading'>Cryptographic Specifications</h2>

<ul>
<li><p><strong>Encryption of Challenge and Response:</strong>
Two-key 3DES in CBC mode with zero IV is used for computation of EIFD and EIC.
Padding for the input data must not be used when performing the EXTERNAL AUTHENTICATE command.</p></li>
<li><p><strong>Authentication of Challenge and Response:</strong>
Cryptographic checksums MIFD and MIC are calculated using ISO/IEC 9797-1 MAC Algorithm 3
with block cipher DES and zero IV, following ISO/IEC 9797-1 padding method 2. The MAC length is 8 bytes.</p></li>
</ul><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="Classes/DocumentBasicAccessKeys.html">DocumentBasicAccessKeys</a></code></p>

</div>

                        <a href="Classes/BACHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">BACHandler</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:17NFCPassportReader23DocumentBasicAccessKeysC"></a>
                    <a name="//apple_ref/swift/Class/DocumentBasicAccessKeys" class="dashAnchor"></a>
                    <a class="token" href="#/s:17NFCPassportReader23DocumentBasicAccessKeysC">DocumentBasicAccessKeys</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>DocumentBasicAccessKeys</code> class represents the Document Basic Access Keys derived from the
Machine Readable Zone (MRZ) key.</p>

<p>These keys are used for encryption (Kenc) and message authentication (Kmac) in Basic Access Control (BAC).
The MRZ key is hashed using SHA-1, and the key seed is generated from the hash. The final keys Kenc and Kmac are derived using
a key derivation mechanism with the key seed.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>The <code><a href="Classes/BACHandler.html">BACHandler</a></code> class use these keys to establish access to the IC.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="Classes/BACHandler.html">BACHandler</a></code></p>

</div>

                        <a href="Classes/DocumentBasicAccessKeys.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">DocumentBasicAccessKeys</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:17NFCPassportReader11PACEHandlerC"></a>
                    <a name="//apple_ref/swift/Class/PACEHandler" class="dashAnchor"></a>
                    <a class="token" href="#/s:17NFCPassportReader11PACEHandlerC">PACEHandler</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>PACEHndler</code> is responsible for performing PACE access control protocol to allow the access to the IC.</p>

<p>PACE is a password authenticated Diffie-Hellman key agreement protocol that provides secure communication
and password-based authentication of the eMRTD chip and the inspection system, i.e. eMRTD chip and
inspection system share the same password.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>PACE establishes <code><a href="Classes/NFCSecureSession.html">NFCSecureSession</a></code> between an eMRTD chip and an inspection system
based on weak (short) passwords.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="Classes/CardAccess.html">CardAccess</a></code>, <code><a href="Classes/SecurityInfo.html">SecurityInfo</a></code>, <code><a href="Classes/PACEInfo.html">PACEInfo</a></code>, <code><a href="Enums/PACESecurityProtocol.html">PACESecurityProtocol</a></code>
<code><a href="Enums/PACEMapping.html">PACEMapping</a></code>, <code><a href="Classes/PACEParametersDecoder.html">PACEParametersDecoder</a></code>, <code><a href="Enums/KeyAgreementAlgorithm.html">KeyAgreementAlgorithm</a></code> and <code><a href="Classes/NFCSecureSession.html">NFCSecureSession</a></code></p>

</div>

                        <a href="Classes/PACEHandler.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">PACEHandler</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:17NFCPassportReader8PACEInfoC"></a>
                    <a name="//apple_ref/swift/Class/PACEInfo" class="dashAnchor"></a>
                    <a class="token" href="#/s:17NFCPassportReader8PACEInfoC">PACEInfo</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>PACEInfo</code> class represents security information related to
the Password Authenticated Connection Establishment (PACE) protocol used for access the IC and
secure communication with an eMRTD chip.</p>

<p>PACE is used to protect sensitive data exchanges in electronic passports.
This class provides details about the specific PACE protocol used, including version and domain parameters.</p>

<p>The ASN.1 data structure <code>PACEInfo</code> is defined as follows:</p>
<pre class="highlight swift"><code> <span class="kt">PACEInfo</span> <span class="p">::</span><span class="o">=</span> <span class="kt">SEQUENCE</span> <span class="p">{</span>
    <span class="kd">protocol</span> <span class="kt">OBJECT</span> <span class="kt">IDENTIFIER</span><span class="p">(</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="mi">3</span><span class="kt">DES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CBC</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">128</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">192</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">256</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="mi">3</span><span class="kt">DES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CBC</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">128</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">192</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">GM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">256</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="mi">3</span><span class="kt">DES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CBC</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">128</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">192</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">DH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">256</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="mi">3</span><span class="kt">DES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CBC</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">128</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">192</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">IM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">256</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">CAM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">128</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">CAM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">192</span> <span class="o">|</span>
        <span class="n">id</span><span class="o">-</span><span class="kt">PACE</span><span class="o">-</span><span class="kt">ECDH</span><span class="o">-</span><span class="kt">CAM</span><span class="o">-</span><span class="kt">AES</span><span class="o">-</span><span class="kt">CBC</span><span class="o">-</span><span class="kt">CMAC</span><span class="o">-</span><span class="mi">256</span><span class="p">),</span>
    <span class="n">version</span> <span class="kt">INTEGER</span><span class="p">,</span> <span class="o">--</span> <span class="kt">MUST</span> <span class="n">be</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">parameterId</span> <span class="kt">INTEGER</span> <span class="kt">OPTIONAL</span>
 <span class="p">}</span>
</code></pre>

<p>This data structure provides detailed information on an implementation of PACE and
its components represent:</p>

<ul>
<li><p><code>protocol</code>: An object identifier that identifies the algorithms to
be used (i.e. key agreement, symmetric cipher and MAC).</p></li>
<li><p><code>version</code>: An integer that identifies the version of the protocol. Currently,
only version 2 is supported by this specification.</p></li>
<li><p><code>parameterId</code>: An integer that is used to indicate the domain parameter identifier (optional).</p></li>
</ul><div class="aside aside-important">
    <p class="aside-title">Important</p>
    <p><code>parameterId</code> must be used if the eMRTD chip uses <code><a href="Enums/StandardizedDomainParameters.html">StandardizedDomainParameters</a></code>,
provides multiple explicit domain parameters for PACE or protocol is one of the <code>*-CAM-*</code> OIDs.</p>

</div><div class="aside aside-important">
    <p class="aside-title">Important</p>
    <p>In case of PACE with Chip Authentication Mapping, the <code>parameterId</code> also denotes the identifier of the Chip Authentication key used,
i.e. the IC must provide a <code><a href="Classes/ChipAuthenticationPublicKeyInfo.html">ChipAuthenticationPublicKeyInfo</a></code> with <code>keyId</code> equal to <code>parameterId</code> from this data structure.</p>

</div><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>It inherits from the <code><a href="Classes/SecurityInfo.html">SecurityInfo</a></code> class.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="Enums/PACESecurityProtocol.html">PACESecurityProtocol</a></code>, <code><a href="Classes/PACEParametersDecoder.html">PACEParametersDecoder</a></code>,
<code><a href="Enums/PACEMapping.html">PACEMapping</a></code>, <code><a href="Classes/PACEHandler.html">PACEHandler</a></code>, and <code><a href="Enums/StandardizedDomainParameters.html">StandardizedDomainParameters</a></code></p>

</div>

                        <a href="Classes/PACEInfo.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">PACEInfo</span> <span class="p">:</span> <span class="kt"><a href="Classes/SecurityInfo.html">SecurityInfo</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:17NFCPassportReader11PACEMappingO"></a>
                    <a name="//apple_ref/swift/Enum/PACEMapping" class="dashAnchor"></a>
                    <a class="token" href="#/s:17NFCPassportReader11PACEMappingO">PACEMapping</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p><code>PACEMapping</code> manages the possible algorithm-specific mapping functions used during the PACE
security protocol for accessing the contactless IC.</p>

<p>In PACE, a nonce <code>s</code> is encrypted using a chosen block cipher <code>E()</code> and a derived key <code>Kπ</code>.
This nonce is then mapped to a random generator using an algorithm-specific mapping function <code>Map</code>.</p>

<p>PACE supports three mapping functions:</p>

<ol>
<li><p>Generic Mapping (GM): This mapping uses either DH or ECDH. The function <code>Map:g → ĝ</code> is defined
differently for DH and ECDH:</p>

<ul>
<li>Using DH: <code>ĝ = g^s * h</code>, where <code>h</code> is calculated by anonymous Diffie-Hellman Key Agreement.</li>
<li>Using ECDH: <code>Ĝ = s × G + H</code>, where <code>H</code> is calculated by anonymous EC Diffie-Hellman Key Agreement.</li>
</ul></li>
<li><p>Integrated Mapping (IM): IM uses either DH or ECDH. It utilizes a pseudo-random function <code>Rp(s,t)</code>
and a function <code>f_g(x)</code> to map nonces to group elements.</p></li>
<li><p>Chip Authentication Mapping (CAM): The mapping phase of PACE-CAM is identical to PACE-GM.</p></li>
</ol>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    <p>The description includes high-level details of PACE mapping.
For precise specifications, consult relevant standards documents.</p>

</div><div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <p><code><a href="Classes/PACEInfo.html">PACEInfo</a></code>, <code><a href="Enums/PACESecurityProtocol.html">PACESecurityProtocol</a></code>, <code><a href="Classes/PACEParametersDecoder.html">PACEParametersDecoder</a></code>, <code><a href="Classes/PACEHandler.html">PACEHandler</a></code>,
<code><a href="Enums/StandardizedDomainParameters.html">StandardizedDomainParameters</a></code> and <code><a href="Enums/KeyAgreementAlgorithm.html">KeyAgreementAlgorithm</a></code></p>

</div>

                        <a href="Enums/PACEMapping.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal</span> <span class="kd">enum</span> <span class="kt">PACEMapping</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:17NFCPassportReader21PACEParametersDecoderC"></a>
                    <a name="//apple_ref/swift/Class/PACEParametersDecoder" class="dashAnchor"></a>
                    <a class="token" href="#/s:17NFCPassportReader21PACEParametersDecoderC">PACEParametersDecoder</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>PACEParametersDecoder</code> class is responsible for decoding
<code><a href="Enums/StandardizedDomainParameters.html">StandardizedDomainParameters</a></code> used during PACE based on their identifiers.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="Classes/PACEInfo.html">PACEInfo</a></code>, <code><a href="Enums/PACESecurityProtocol.html">PACESecurityProtocol</a></code>, <code><a href="Enums/PACEMapping.html">PACEMapping</a></code>,
<code><a href="Classes/PACEHandler.html">PACEHandler</a></code>, and <code><a href="Enums/StandardizedDomainParameters.html">StandardizedDomainParameters</a></code>

</div>

                        <a href="Classes/PACEParametersDecoder.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">PACEParametersDecoder</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:17NFCPassportReader20PACESecurityProtocolO"></a>
                    <a name="//apple_ref/swift/Enum/PACESecurityProtocol" class="dashAnchor"></a>
                    <a class="token" href="#/s:17NFCPassportReader20PACESecurityProtocolO">PACESecurityProtocol</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The <code>PACESecurityProtocol</code> enum represents various security protocols used in PACE for
electronic Machine Readable Travel Documents (eMRTD).</p>

<p>These protocols are identified by a unique <code><a href="Structs/ObjectIdentifier.html">ObjectIdentifier</a></code> (OID) and
specific <code><a href="Enums/EncryptionAlgorithm.html">EncryptionAlgorithm</a></code>, <code><a href="Enums/KeyAgreementAlgorithm.html">KeyAgreementAlgorithm</a></code> and <code><a href="Enums/PACEMapping.html">PACEMapping</a></code> function.</p>
<div class="aside aside-see-also">
    <p class="aside-title">See also</p>
    <code><a href="Classes/PACEInfo.html">PACEInfo</a></code>, <code><a href="Enums/PACEMapping.html">PACEMapping</a></code>, <code><a href="Classes/PACEParametersDecoder.html">PACEParametersDecoder</a></code>
<code><a href="Classes/PACEHandler.html">PACEHandler</a></code>, <code><a href="Enums/KeyAgreementAlgorithm.html">KeyAgreementAlgorithm</a></code> and <code><a href="Enums/EncryptionAlgorithm.html">EncryptionAlgorithm</a></code>

</div>

                        <a href="Enums/PACESecurityProtocol.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">internal</span> <span class="kd">enum</span> <span class="kt">PACESecurityProtocol</span> <span class="p">:</span> <span class="kt">UInt8</span><span class="p">,</span> <span class="kt"><a href="Protocols/SecurityProtocol.html">SecurityProtocol</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2023 <a class="link" href="https://github.com/andrea-deluca" target="_blank" rel="external noopener">Andrea Deluca</a>. All rights reserved. (Last updated: 2023-11-20)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.4</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
